/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Scala application project to get you started.
 * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
 * User Manual available at https://docs.gradle.org/7.5/userguide/building_java_projects.html
 * This project uses @Incubating APIs which are subject to change.
 */


plugins {
    id 'scala'
    id 'idea'
    id 'application'
    alias(libs.plugins.gradlePlay)
}

repositories {
    mavenCentral()
    gradlePluginPortal()
}

dependencies {
    implementation(libs.scala)
    implementation(libs.bundles.play)
    implementation(libs.bundles.db)
    implementation(libs.bundles.others)

    testImplementation(libs.bundles.scalaTest)
    testRuntimeOnly(libs.scalaXml)
}

application {
    mainClass = 'AppLoader'
}

play {
    platform {
        playVersion = project.playVersion
        scalaVersion = project.scalaBinaryVersion
        javaVersion = JavaVersion.VERSION_17
    }

    injectedRoutesGenerator = true
}
apply plugin: 'idea'
apply plugin: 'org.gradle.playframework'

tasks.withType(ScalaCompile).configureEach {
    scalaCompileOptions.additionalParameters = [
            "--encoding",
            "UTF-8"
    ]
}

tasks.withType(Tar).configureEach {
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
}

tasks.withType(Zip).configureEach {
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
}

sourceSets {
    main {
        scala {
            srcDir('$rootDir/app')
        }
    }
}